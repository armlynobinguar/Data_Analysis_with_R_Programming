library(readr)
williamsburg_north <- read_csv("williamsburg_north.csv")

library(ggplot2)

ggplot(data = williamsburg_north, 
       aes(x = year_built, y = sale_price)) +
       scale_y_continuous(labels = scales::comma) +
       geom_point()

ggplot(data = williamsburg_north, 
       aes(x = gross_square_feet, y = sale_price)) +
       scale_y_continuous(labels = scales::comma) +
       geom_point()

# question_1 <-
# question_2 <-
question_1 <- FALSE
question_2 <- TRUE

brooklyn_sales <- suppressMessages(read_csv("brooklyn_sales.csv"))
library(dplyr)
set.seed(1)
williamsburg_all <- brooklyn_sales %>% 
  # Remove year-built zero years (assumed to be missing data)
  filter(year_built > 0) %>% 
  # Remove transactions assumed to be between family members
  filter(sale_price > 10000) %>% 
  # Select condominum category
  filter(building_class_category == "13 Condos - Elevator Apartments") %>% 
  # Select building class "CONDO; RESIDENTIAL UNIT IN ELEVATOR BLDG."
  filter(building_class_at_time_of_sale == "R4") %>% 
  # Choose all Williamburg neighborhoods
  filter(stringr::str_detect(neighborhood, "Williamsburg")) %>% 
  # Include only unique entries
  distinct() %>% 
  # Select random sample of 50
  sample_n(50)

ggplot(data = williamsburg_all, 
       aes(x = gross_square_feet, y = sale_price, color = neighborhood)) +
  scale_y_continuous(labels = scales::comma) +
  geom_point() +
  theme(legend.position="bottom")

stronger_relationship <- "williamsburg_north"
